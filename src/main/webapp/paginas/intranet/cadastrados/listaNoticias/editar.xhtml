<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:pm="http://primefaces.org/mobile"
    xmlns:pe="http://primefaces.org/ui/extensions">
    <!-- Dica para dar manutenção ao código, clique nos icones (+, -) para abrir e fechar as tags, pois está página
    é enorme e se for navegar nela para ver as funções especificas, você vai perder muito tempo. todas as tags estão
    comentadas com suas respectivas funções.
    -->

    <!-- dialogCadastrar -->
    <p:dialog footer=""  widgetVar="editarDialog"  header="Editar" resizable="true" class="corDialog"   maximizable="true" minimizable="true" fitViewport="true"  height="400" width="80%" closeOnEscape="true" draggable="true" >

        <p:outputPanel id="editarDetal" class="corDialog" >

            <h:form id="editar" enctype="multipart/form-data" >

                <div class="ui-fluid">
                    <p:panelGrid  id="grid" class="corDialog" style="width: 100%" >

                        <p:row class="corDialog">
                            <p:column rowspan="1"  >
                                <p:outputLabel for="titulo"  class="colorDialog" value="Titulo" />                                
                            </p:column>

                            <p:column rowspan="1" >
                                <p:inputText id="titulo" value="#{noticiasBean.editaNoticia.titulo}"  required="true" requiredMessage="Digite um titulo"  >
                                    <p:message for="titulo"/>
                                    <f:validateLength maximum="50" />
                                    <f:validateLength minimum="5" />

                                </p:inputText>
                            </p:column>



                            <p:column rowspan="1">
                                <p:outputLabel class="colorDialog" value="Autor " for="autor" />                                
                            </p:column>

                            <p:column rowspan="1">
                                <p:selectOneMenu id="autor" value="#{noticiasBean.editaNoticia.cod_autor}" autoWidth="true" required="true" requiredMessage="Informe a Categoria" filter="true" filterMatchMode="contains" >
                                    <f:selectItem itemValue=" " itemLabel="::Selecione::"/>
                                    <f:selectItems value="#{noticiasBean.autor}" var="cat" itemLabel="#{cat.nome}" itemValue="#{cat.id}" />
                                    <p:message for="autor"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>

                        <p:row  class="corDialog" >
                           
                          

                            <p:column rowspan="1">
                                <p:outputLabel for="dtMov"  class="colorDialog" value="Data da Publicação"  />
                            </p:column>

                            <p:column rowspan="1">
                                <p:calendar id="dtMov" value="#{noticiasBean.editaNoticia.dataPublicacao}"
                                            pattern="dd/MM/yyyy" locale="pt_BR" mask="99/99/9999" required="true" requiredMessage="Informe a Data de Abertura!" style="width:90%;" >
                                    <p:message for="dtMov"/>
                                </p:calendar>
                            </p:column>
                        </p:row>

                        <p:row class="corDialog" >

                            <p:column rowspan="4" colspan="4">
                                <p:outputLabel class="colorDialog" value="Descrição: " for="editor" /> 
                                <pe:ckEditor id="editor" value="#{noticiasBean.editaNoticia.descricao}" interfaceColor="#87CEFA" width="100%" />                                                                                                     
                            </p:column>
                        </p:row>

                    </p:panelGrid>
                </div>
                <br/>                                 
                <p:commandButton  styleClass="tamBtn" id="btnSalvar"  ajax="false" icon="fa fa-save" actionListener="#{noticiasBean.editarNoticia()}" value="Editar"  />
            </h:form>

            <h:form>
                <p:commandButton id="btnClose" styleClass="tamBtnClose"  icon="fa fa-close" onclick="PF('cadastrarDialog').hide()" value="Cancelar"  />
            </h:form>

        </p:outputPanel>
    </p:dialog>

</ui:composition>