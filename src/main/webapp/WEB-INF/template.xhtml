<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" >
    <!--<f:event listener="{aniversarianteBean.increment(loginBean.tecnico)}" type="preRenderView" /> 
    #admin=2a0923285184943425d1f53ddd58ec7a
    --> 
    <h:head>
        <f:facet name="first">
            <meta charset="utf-8"/>
            <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
            <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=yes" name="viewport"/>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
            <meta http-equiv="pragma" content="no-cache"/>
            <meta http-equiv="cache-control" content="no-cache"/>
            <meta http-equiv="expires" content="0"/>
        </f:facet>
        <!--<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">-->
        <link rel="shortcut icon" type="image/x-icon"  href="#{resource['imagens/favicon.ico']}"/>
        <link rel="shortcut icon" type="image/x-icon"  href="#{facesContext.externalContext.requestContextPath}/resources/imagens/favicon.ico"/>
        <h:outputScript name="locale-primefaces.js" library="js"/>             
        <h:outputStylesheet library="css" name="style.css" />
        <h:outputStylesheet library="css" name="showcase.css" />
        <h:outputStylesheet library="css" name="background.css" />
        <h:outputStylesheet library="css" name="botaoBS.css" />
        <h:outputScript name="js/ripple-effect.js" library="adamantium-layout" />
        <h:outputScript name="js/perfect-scrollbar.js" library="adamantium-layout" />
        <h:outputScript name="js/layout.js" library="adamantium-layout" />
        <h:outputStylesheet name="css/core-layout.css"
                            library="adamantium-layout" />
        <h:outputStylesheet name="css/animate.css" library="adamantium-layout" />
        <h:outputStylesheet name="css/adamantium-font.css"
                            library="adamantium-layout" />
        <h:outputStylesheet name="css/ripple-effect.css"
                            library="adamantium-layout" />
        <h:outputStylesheet name="css/perfect-scrollbar.css"
                            library="adamantium-layout" />
        <h:outputStylesheet name="css/font-awesome.css"
                            library="adamantium-layout" />
        <h:outputStylesheet name="css/adamantium-layout.css"
                            library="adamantium-layout" />
        
        <script type="text/javascript">
            function start() {
                PF('statusDialog').show();
            }

            function stop() {
                PF('statusDialog').hide();
            }
        </script>
        
        <h:form>
            <p:idleMonitor timeout="7000000" >
                <p:ajax event="idle" listener="#{loginBean.onIdle()}"  />
                <p:ajax event="active" delay="300"  listener="#{loginBean.onActive}" />
            </p:idleMonitor>

            <p:confirmDialog closeOnEscape="true" global="true" showEffect="fade" hideEffect="fade" >
                <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                <p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
            </p:confirmDialog>

            <p:ajaxStatus  onstart="PF('statusDialog').show()" onerror="PF('sessaoExpirada').show()" oncomplete="PF('statusDialog').hide()" />
            <p:growl  showDetail="true" life="9000" autoUpdate="true" />

        </h:form>

        <p:dialog footer=""  modal="true" widgetVar="statusDialog" header="Carregando" draggable="false" closable="false" resizable="false" >            
            <p:graphicImage name="/demo/images/ajaxloadingbar.gif" />
        </p:dialog>

        <p:dialog footer=""  modal="true" widgetVar="sessaoExpirada" header="Sessão expirada"  draggable="false" closable="false" resizable="false" >
            <h:outputText  class="colorDialog" style="text-align: center;" value="Sua sessão expirou porque você ficou " /> <br/>
            <h:outputText  class="colorDialog" style="text-align: center;" value="muito tempo inativo, por favor, " /><br/>
            <h:outputText  class="colorDialog" style="text-align: center;" value="faça o login novamente!" /> <br/><br/>
            <p:button outcome="/login" value="Fazer Login Novamente"  />
        </p:dialog>
    </h:head>



    <h:body>        
        <p:layout fullPage="true">
            <p:layoutUnit   position="center" class="corDeFundo">
                <ui:include src="topo.xhtml"/>
                <br/>
                <ui:insert name="corpo">


                </ui:insert>
            </p:layoutUnit>

        </p:layout>



    </h:body>

</html>